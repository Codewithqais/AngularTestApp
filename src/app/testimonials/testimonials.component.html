<!-- Testimonials Component -->
<div class="w-full bg-gradient-to-br from-blue-900 via-blue-800 to-indigo-900 relative overflow-hidden">
  <!-- Background Pattern -->
  <div class="absolute inset-0 opacity-10">
    <div class="absolute top-10 left-10 w-4 h-4 bg-white rounded-full"></div>
    <div class="absolute top-32 right-20 w-2 h-2 bg-blue-300 rounded-full"></div>
    <div class="absolute bottom-20 left-1/4 w-3 h-3 bg-white rounded-full"></div>
    <div class="absolute top-1/2 right-10 w-2 h-2 bg-blue-200 rounded-full"></div>
    <div class="absolute bottom-32 right-1/3 w-4 h-4 bg-white rounded-full"></div>
  </div>

  <div class="max-w-7xl mx-auto px-6 py-20 relative z-10">
    <!-- Header -->
    <div class="text-center mb-16">
      <h2 class="text-5xl font-bold text-white mb-4 bg-gradient-to-r from-white to-blue-100 bg-clip-text text-transparent">
        What Our Clients Say
      </h2>
      <p class="text-xl text-blue-100 max-w-2xl mx-auto">
        Trusted by thousands of happy customers worldwide
      </p>
    </div>

    <!-- Testimonials Carousel -->
    <div class="testimonials-carousel max-w-4xl mx-auto mb-16"
         (mouseenter)="onMouseEnter()"
         (mouseleave)="onMouseLeave()"
         (touchstart)="onTouchStart($event)"
         (touchmove)="onTouchMove($event)"
         (touchend)="onTouchEnd()">

      <div class="relative overflow-hidden rounded-3xl">
        <div class="testimonial-track flex transition-transform duration-700 ease-out" #testimonialTrack>
          <div class="testimonial-card min-w-full px-8 py-12 text-center transform transition-all duration-700"
               *ngFor="let testimonial of testimonials; trackBy: trackByTestimonial; let i = index"
               [class]="isActiveSlide(i) ? 'opacity-100 scale-100' : 'opacity-70 scale-95'">

            <!-- Quote Icon -->
            <div class="text-blue-300 mb-8 animate-pulse">
              <svg class="w-12 h-12 mx-auto" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M14.017 21v-7.391c0-5.704 3.731-9.57 8.983-10.609l.995 2.151c-2.432.917-3.995 3.638-3.995 5.849h4v10h-9.983zm-14.017 0v-7.391c0-5.704 3.748-9.57 9-10.609l.996 2.151c-2.433.917-3.996 3.638-3.996 5.849h4v10h-10z" fill="currentColor"/>
              </svg>
            </div>

            <!-- Background Card -->
            <div class="bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl p-8 shadow-2xl">
              <p class="text-xl leading-relaxed text-white mb-8 italic font-light">
                "{{ testimonial.text }}"
              </p>

              <!-- Client Info -->
              <div class="flex items-center justify-center space-x-6">
                <div class="relative">
                  <img [src]="testimonial.avatar"
                       [alt]="testimonial.author"
                       class="w-20 h-20 rounded-full object-cover border-4 border-white/30 shadow-lg transition-transform duration-300 hover:scale-110">
                  <div class="absolute -bottom-1 -right-1 w-6 h-6 bg-green-400 rounded-full border-2 border-white"></div>
                </div>
                <div class="text-left">
                  <h4 class="text-xl font-semibold text-white mb-1">{{ testimonial.author }}</h4>
                  <p class="text-blue-200 mb-2">{{ testimonial.position }}, {{ testimonial.company }}</p>
                  <div class="flex space-x-1">
                    <span class="text-yellow-400 text-lg animate-pulse"
                          *ngFor="let star of getStarsArray(testimonial.rating); let j = index"
                          [style.animation-delay]="j * 200 + 'ms'">â˜…</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Navigation Buttons -->
      <div class="flex justify-center space-x-4 mt-8">
        <button class="w-14 h-14 rounded-full bg-white/10 backdrop-blur-sm border border-white/20 text-white hover:bg-white/20 hover:scale-110 transition-all duration-300 flex items-center justify-center group"
                (click)="prevSlide()"
                type="button">
          <svg class="w-6 h-6 transform group-hover:-translate-x-1 transition-transform duration-200" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M15 18L9 12L15 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </button>
        <button class="w-14 h-14 rounded-full bg-white/10 backdrop-blur-sm border border-white/20 text-white hover:bg-white/20 hover:scale-110 transition-all duration-300 flex items-center justify-center group"
                (click)="nextSlide()"
                type="button">
          <svg class="w-6 h-6 transform group-hover:translate-x-1 transition-transform duration-200" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M9 18L15 12L9 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </button>
      </div>

      <!-- Dots Indicator -->
      <div class="flex justify-center space-x-3 mt-6">
        <button class="w-3 h-3 rounded-full transition-all duration-300"
                *ngFor="let testimonial of testimonials; let i = index"
                [class]="isActiveSlide(i) ? 'bg-white scale-125 shadow-lg' : 'bg-white/40 hover:bg-white/60'"
                (click)="goToSlide(i)"
                type="button">
        </button>
      </div>
    </div>

    <!-- Statistics -->
    <div class="grid grid-cols-2 md:grid-cols-4 gap-8">
      <div class="text-center p-6 bg-white/10 backdrop-blur-sm rounded-xl border border-white/20 hover:bg-white/15 hover:scale-105 transition-all duration-300 group"
           *ngFor="let stat of statistics; trackBy: trackByStatistic">
        <div class="text-4xl font-bold text-white mb-2 bg-gradient-to-r from-white to-blue-100 bg-clip-text text-transparent group-hover:scale-110 transition-transform duration-300">
          {{ stat.number }}
        </div>
        <div class="text-blue-200 font-medium">{{ stat.label }}</div>
      </div>
    </div>
  </div>

  <!-- Floating Elements Animation -->
  <div class="absolute top-1/4 left-10 w-2 h-2 bg-blue-300 rounded-full animate-bounce" style="animation-delay: 0s;"></div>
  <div class="absolute top-1/3 right-16 w-3 h-3 bg-white rounded-full animate-bounce" style="animation-delay: 1s;"></div>
  <div class="absolute bottom-1/4 left-1/3 w-2 h-2 bg-blue-200 rounded-full animate-bounce" style="animation-delay: 2s;"></div>
  <div class="absolute bottom-1/3 right-1/4 w-4 h-4 bg-white/50 rounded-full animate-bounce" style="animation-delay: 3s;"></div>
</div>


